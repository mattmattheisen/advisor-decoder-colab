
import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt

# Sample data
data = {
    "Compensation Category": [
        "Base Salary", "Variable Comp", "Bonus Structure",
        "Conflicts of Interest", "Best Interest Mention", "Product-Specific Rates"
    ],
    "Fidelity": [1, 1, 1, 1, 1, 4],
    "Schwab": [1, 1, 1, 1, 1, 3]
}

df = pd.DataFrame(data)

# Melt the DataFrame for easier plotting
melted_df = df.melt(id_vars="Compensation Category", var_name="Company", value_name="Indicator")

# Bar chart
st.title("ðŸ“Š Advisor Compensation Analysis")
st.subheader("Fidelity vs. Schwab on Key Compensation Categories")

fig, ax = plt.subplots(figsize=(10, 6))
bars = melted_df.pivot(index="Compensation Category", columns="Company", values="Indicator").plot(
    kind="bar", ax=ax, colormap="Set2"
)

plt.ylabel("Presence / Count")
plt.xlabel("Compensation Category")
plt.title("Comparison of Compensation Factors")
plt.xticks(rotation=45)
plt.tight_layout()

st.pyplot(fig)
